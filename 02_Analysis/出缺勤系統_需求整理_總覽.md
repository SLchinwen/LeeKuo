# 出缺勤系統_需求整理_總覽

- **日期：** 2026-02-02
- **用途：** 以「**需求 → 情境 → 流程 → 需求展開**」順序整理出缺勤系統文件，作為變更管理與工程移交基底。
- **來源文件：** `_Inbox/立國hr出缺勤系統_業務需求與導入規劃說明.md`（B1）、`_Inbox/立國hr出缺勤系統_c_1_需求展開拆解.md`（C1）

---

## 1. 需求（Why / What）

### 1.1 專案目標

- 建立**可稽核、可追溯、可重算**的出缺勤制度
- 將制度判斷前移到系統，降低月底人工作業
- 清楚區分：事實層（刷卡／辨識 Log）→ 判斷層（出勤結果）→ 人工介入層（請假／加班／點名）

### 1.2 成功指標（業務面）

- 出缺勤資料在進入薪資前已完成法規稽核
- 無因制度調整而減損員工依法應得加班報酬
- 超時工作以制度化獎勵方式補償，符合法規精神
- 勞檢可清楚說明工時、加班、補償三者關係

---

## 2. 情境（Scenario）

### 2.1 主線情境

- 日常：匯入刷卡／辨識 Log → 去重 → 判斷上下班 → 計算工時與加班 → 異常提示
- 點名輔助：卡機異常時啟用點名 → 到班／請假／未到勾選 → 批次補入出缺勤與加班
- 月結：**3 日截止**（補單）→ **4 日檢核補缺** → **5 日執行結算** → 自動寫入曠職（AB）、遲到（LT）、早退（ET）→ 封存供薪資讀取。見 客戶確認用_規劃摘要 §3.6、§7。
- 出差：業務出差回報（到達／離開照片）→ 作為補登依據，自動補入當日出缺勤

### 2.2 角色

- 員工、現場主管、HR、各部門主管或助理、平台管理者、管理主管、系統（自動程序）
- **權限摘要（已確認）：** 點名／月結／看稽核紀錄→各部門主管或助理；維護勞基法參數→HR 與平台管理者；查全員出勤→HR 與管理主管。見 客戶確認用_規劃摘要 §3.5、§7。

### 2.3 例外情境（已結案 TBD）

- 夜班／跨日班：立國無三班制；留宿不視為夜班，不列入加班，需留宿單
- 管理職／不計加班：不納入自動加班稽核，超時註記「留廠未投入工作」，加班須經申請單

---

## 3. 流程（Process）

### 3.1 日常自動

- 匯入刷卡 Log → 去除短時間重複 → 第一筆進／最後一筆出 → 計算工時與加班 → 標示異常

### 3.2 人工 SOP 摘要

- SOP-1 新進：建檔、綁定辨識 ID、設定是否可加班、測試一次
- SOP-2 離職：登錄離職日 → 系統停止出勤比對與異常
- SOP-3 每日異常：系統通知無刷卡 → 員工補請假／補刷卡或點名佐證
- SOP-4 設備故障／大量異常：啟用點名 → 勾選到班／請假 → 批次補入 → 留存核准紀錄
- SOP-5 月結：關閉補單 → 月結算 → 寫入 AB／LT／ET → 封存

---

## 4. 需求展開（模組與要項）

### 4.1 七大模組

1. 員工與身分治理
2. 刷卡／辨識資料整合
3. 點名與人工介入
4. 出勤判斷引擎
5. 加班與法規稽核
6. 月結算與假別生成
7. 通知與查詢（含出差回報）

### 4.2 關鍵規則

- 事實層（Log）不可變；判斷層可重算；人工介入不覆蓋 Log
- 離職後不參與出勤判斷、不產生異常與結算
- 法定範圍內加班須列入薪資；超限轉為點數／獎金基礎量
- AB／LT／ET 僅系統可產生

### 4.3 驗證與驗收要項

- 刷卡異常通知：僅在「完全無刷卡資料」時發送；每日 06:00 執行前一日檢查
- 點名與出差回報：作為判斷層補登來源，不回寫原始 Log
- 月結算後結果封存，供薪資系統讀取；月結後不回溯修改，錯誤更正透過簽呈與金額調整、不回寫出缺勤紀錄
- 權限：點名／月結／稽核→部門主管或助理；勞基法參數→HR 與平台管理者；全員出勤→HR 與管理主管

---

## 5. 後續輸出

- **需求展開對照：** `02_Analysis/出缺勤系統_需求展開_對照.md`
- **情境彙整：** `02_Analysis/出缺勤系統_情境彙整.md`
- **流程圖：** `02_Analysis/出缺勤系統_流程圖.md`
- **客戶確認用規劃摘要：** `02_Analysis/出缺勤系統_客戶確認用_規劃摘要.md`
- **名詞與欄位對照清單：** `02_Analysis/出缺勤系統_名詞與欄位對照清單.md`
- **PRD 展開前檢核與建議：** `02_Analysis/出缺勤系統_PRD展開前檢核與建議.md`
- **仍待確認與需補充清單：** `02_Analysis/出缺勤系統_仍待確認與需補充清單.md`
- **最終檢核與建議：** `02_Analysis/出缺勤系統_最終檢核與建議.md`
- **簡報大綱（客戶確認用）：** `03_Solution/簡報大綱_出缺勤系統_客戶確認.md`
- **變更追蹤（有變更時）：** `02_Analysis/出缺勤系統_變更追蹤與對照表.md`
- **C2 PRD：** `03_Solution/PRD_出缺勤系統.md`（已建立）
- **文件治理：** `02_Analysis/出缺勤系統_文件治理說明.md`
