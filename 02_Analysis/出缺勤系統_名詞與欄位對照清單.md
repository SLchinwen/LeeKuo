# 出缺勤系統｜名詞與欄位對照清單

- **日期：** 2026-02-02
- **版本：** v1.0
- **用途：** 對齊七大模組規劃所需之**名詞、狀態、假別代碼、欄位與資料層**，供 PRD、API、資料表與 UI 引用標準。
- **對應文件：** B1 業務需求與導入規劃說明、C1 需求展開拆解、出缺勤系統_情境彙整

---

## 一、資料層與實體總覽

### 1.1 三層資料模型（名詞定義）

| 中文 | 英文（建議 API/規格） | 用途／說明 |
| --- | --- | --- |
| 事實層 | raw / fact_layer | 刷卡／辨識原始 Log，不可變、不刪除、不回寫 |
| 判斷層 | computed / judgment_layer | 系統計算之出勤結果，可重算；人工介入僅影響此層 |
| 人工介入層 | manual / intervention_layer | 請假、補休、加班單、點名、出差回報等需核准之輸入 |

### 1.2 主要實體（依模組）

| 實體中文 | 英文（建議 API/DB） | 所屬模組 | 說明 |
| --- | --- | --- | --- |
| 員工主檔 | employee | 員工與身分治理 | 員工編號、部門、到職／離職、是否刷卡／可加班、辨識 ID |
| 刷卡紀錄／Log | attendance_log / punch_log | 刷卡／辨識整合 | 事實層；人臉／指紋刷卡原始紀錄 |
| 設備 | device | 刷卡／辨識整合 | device_id、location、是否進出共用 |
| 點名紀錄 | roll_call / attendance_roll_call | 點名與人工介入 | 到班／請假／未到、批次補入、來源與核准人 |
| 出差回報 | business_trip_report / trip_report | 通知與查詢 | 到達／離開照片、時間戳、補登當日出缺勤 |
| 出勤結果（日） | daily_attendance / attendance_result | 出勤判斷引擎 | 判斷層；當日上下班、工時、加班、異常標記 |
| 加班紀錄／稽核 | overtime_record / overtime_audit | 加班與法規稽核 | 平日／假日加班、法定內／超限、點數／獎金基礎量 |
| 月結算結果／假別 | monthly_settlement / attendance_code | 月結算與假別生成 | 曠職 AB、遲到 LT、早退 ET、封存供薪資 |
| 班別 | shift / work_shift | 員工／出勤判斷 | 上班／下班時間、應出勤工時 |
| 公司行事曆 | calendar / company_calendar | 出勤判斷 | 工作日、例假日、國定假日 |
| 請假單 | leave_request / leave_application | 人工介入層 | 請假類型、期間、核准 |
| 加班申請單 | overtime_request / overtime_application | 人工介入層 | 加班時段、核准；不計加班者須填 |
| 留宿單 | stay_over_request / overnight_form | 人工介入層 | 留宿不計加班，觸發留宿津貼 |

---

## 二、名詞對照與用途說明（依模組）

### 2.1 員工與身分治理

| 中文（建議 UI 顯示） | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 員工編號 | employee_id / emp_no | 唯一、不可變 |
| 所屬部門 | department_id / dept_id | 主部門 |
| 支援部門 | support_department_id | 支援人力歸屬（可選） |
| 到職日 | hire_date / onboard_date | 生效日 |
| 離職日 | leave_date / resignation_date | 離職日起停止出勤比對與異常 |
| 在職 | Active / active | 員工狀態：參與出勤判斷 |
| 離職 | Inactive / resigned / left | 員工狀態：不參與出勤、不產生異常與補單 |
| 是否需刷卡 | require_clock / need_punch | 是／否 |
| 是否可加班 | overtime_eligible / can_overtime | 是／否；否者不自動產生加班、須申請單 |
| 不計算加班人員 | non_overtime_employee | 管理職／責任制；不納入自動加班稽核 |
| 人臉／指紋辨識 ID | biometric_id / face_id / fingerprint_id | 一對多，綁定員工 |
| 留廠未投入工作 | stay_without_work / onsite_no_work | 不計加班者超時之註記，僅稽核與說明用 |

### 2.2 刷卡／辨識與設備

| 中文 | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 設備 ID | device_id | 刷卡／辨識設備識別 |
| 據點／地點 | location / site_id | 設備所在位置 |
| 進出共用 | shared_in_out / single_device_in_out | 單一設備進出共用時依時間序判斷 |
| 刷卡時間 | punch_time / log_time | 事實層 Log 時間 |
| 進／出 | direction: in / out | 多設備時可區分；單一設備時由時間序判斷 |
| 短時間重複去重 | dedup_interval / deduplicate | 人臉短時反覆讀取之去重規則（如 N 秒內僅保留一筆） |

### 2.3 點名與人工介入

| 中文 | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 到班 | present / attended | 點名標記：有到 |
| 請假 | on_leave / absent_leave | 點名標記：請假 |
| 未到 | absent / no_show | 點名標記：未到 |
| 點名日期 | roll_call_date | 點名所屬日期 |
| 點名來源 | roll_call_source / approved_by | 核准人／來源，必填 |
| 跨班／留宿名單 | cross_shift_list / stay_over_list | 點名標示跨班或留宿，作為到班判斷輔助 |
| 啟用點名模式 | roll_call_mode_enabled | 卡機異常或大量缺失時啟用 |
| 點名用途（已確認） | — | **以刷卡為主**；點名為**跨部門支援**時確認**接收人力工時**（歸屬與統計）之輔助；支援人力加班歸屬依點名確認之該員工歸屬。見 客戶確認用_規劃摘要 §3、§7 |

### 2.4 出勤判斷與結果

| 中文 | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 上班日 | work_day / working_day | 依行事曆判斷 |
| 假日 | holiday / rest_day | 例假日、國定假日 |
| 上班時間 | clock_in_time / check_in_time | 第一筆有效進 |
| 下班時間 | clock_out_time / check_out_time | 最後一筆有效出 |
| 上班工時 | work_hours / regular_hours | 當日應出勤工時 |
| 加班工時 | overtime_hours | 依資格與班別計算；平日／假日分開 |
| 異常待處理 | anomaly_pending / exception_flag | 無刷卡、工時不足等待補單或佐證 |
| 可重算 | recalculable | 判斷層結果支援異動後回溯計算 |

### 2.5 假別與月結算結果

| 中文（建議 UI 顯示） | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 曠職 | AB / Absent | 無刷卡、無請假；僅系統月結產生 |
| 遲到 | LT / Late | 工時不足未補；僅系統月結產生 |
| 早退 | ET / EarlyLeave | 工時不足未補；僅系統月結產生 |
| 假別代碼 | attendance_code / leave_code | AB、LT、ET 及請假類型等 |
| 月結算 | monthly_settlement / month_end_close | 關閉補單後執行，寫入 AB／LT／ET 並封存 |
| 封存 | archived / locked | 月結後結果供薪資系統讀取，不再變更 |

### 2.6 加班與法規稽核

| 中文 | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 平日加班 | weekday_overtime / regular_overtime | 平日延長工時 |
| 休息日加班 | rest_day_overtime | 休息日加班，分段計算 |
| 例假日加班 | legal_holiday_overtime | 原則禁止，法定例外 |
| 法定可計薪加班時數 | overtime_payable_hours / legal_overtime_hours | 列入薪資計算之加班時數 |
| 超過法定上限 | over_legal_cap / excess_overtime | 超過可計薪上限之工時 |
| 加班工作點數 | overtime_points / ot_points | 超限轉換，不列入加班費 |
| 工作獎金基礎量 | bonus_base_hours / reward_base | 超限轉換，以獎金等方式發放 |
| 每日加班上限 | daily_overtime_cap | 如 4 小時（依勞基法設定檔） |
| 每月加班上限 | monthly_overtime_cap | 依勞基法及公司核備 |

### 2.7 通知與出差回報

| 中文 | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 刷卡異常通知 | absence_alert / no_punch_notification | 僅在「完全無刷卡資料」時發送，每日一次 |
| 出差到達 | trip_arrival / trip_check_in | 出差回報：到達照片＋時間戳 |
| 出差離開 | trip_departure / trip_check_out | 出差回報：離開照片＋時間戳 |
| 出差回報日期 | trip_date / report_date | 每日一筆，長時間出差仍每日回報 |
| 時間戳記 | timestamp | 出差照片必備 |
| 定位資訊 | location_info / geo（若可行） | 出差照片選填 |

### 2.8 留宿與特殊身分

| 中文 | 英文／代碼（API/DB） | 用途／說明 |
| --- | --- | --- |
| 留宿 | stay_over / overnight | 不視為夜班、不列入加班工時 |
| 留宿單 | stay_over_request / overnight_form | 住宿與津貼依據；不影響加班計算 |
| 加班申請單 | overtime_application | 不計加班者若有實際工作須填；留宿若有工作亦須填 |

---

## 三、欄位引用標準（依模組，表單／API／DB 對齊用）

### 3.1 員工與身分治理模組

| 標準欄位名（建議 API/DB） | 中文說明 | 引用說明 |
| --- | --- | --- |
| id | 主鍵 | 各表統一 |
| employee_id / emp_no | 員工編號（唯一） | employee |
| department_id | 所屬部門 | employee |
| hire_date, leave_date | 到職日、離職日 | employee |
| status | Active / Inactive（或 employed / resigned） | employee |
| require_clock | 是否需刷卡 | employee |
| overtime_eligible | 是否可加班 | employee |
| is_non_overtime | 是否不計算加班人員 | employee |
| biometric_id（或 face_id, fingerprint_id） | 辨識 ID（可多筆） | employee_biometric 或關聯表 |
| effective_from, effective_to | 生效起迄（異動追蹤） | employee、biometric 綁定 |

### 3.2 刷卡／辨識資料整合模組

| 標準欄位名 | 中文說明 | 引用說明 |
| --- | --- | --- |
| id | 主鍵 | attendance_log |
| employee_id | 員工 ID | attendance_log |
| device_id | 設備 ID | attendance_log |
| punch_time / log_time | 刷卡時間 | attendance_log（事實層，不可變） |
| direction | in / out（若設備支援） | attendance_log |
| location / site_id | 據點 | device 或 log |
| dedup_key / is_duplicate | 去重用鍵或是否重複 | 去重後標記或過濾 |

### 3.3 點名與人工介入模組

| 標準欄位名 | 中文說明 | 引用說明 |
| --- | --- | --- |
| id | 主鍵 | roll_call |
| roll_call_date | 點名日期 | roll_call |
| employee_id | 員工 ID | roll_call |
| attendance_status | present / on_leave / absent | roll_call |
| approved_by | 核准人／來源 | roll_call |
| approved_at | 核准時間 | roll_call |
| reason / remark | 異常原因或備註 | roll_call（如卡機異常） |

### 3.4 出勤判斷引擎模組（判斷層）

| 標準欄位名 | 中文說明 | 引用說明 |
| --- | --- | --- |
| id | 主鍵 | daily_attendance |
| employee_id | 員工 ID | daily_attendance |
| attendance_date | 出勤日期 | daily_attendance |
| clock_in_time, clock_out_time | 上班、下班時間 | daily_attendance |
| work_hours | 上班工時 | daily_attendance |
| overtime_hours | 加班工時 | daily_attendance |
| source | punch / roll_call / trip_report | 判斷來源（刷卡／點名／出差） |
| exception_flag / anomaly | 異常標記 | daily_attendance |
| recalculated_at | 重算時間 | 可重算時紀錄 |

### 3.5 加班與法規稽核模組

| 標準欄位名 | 中文說明 | 引用說明 |
| --- | --- | --- |
| overtime_payable_hours | 法定可計薪加班時數 | 進入薪資計算 |
| overtime_excess_hours | 超過法定上限時數 | 轉點數／獎金 |
| overtime_points / bonus_base_hours | 超限轉換點數或獎金基礎量 | 稽核紀錄 |
| daily_cap, monthly_cap | 每日／每月加班上限（設定） | 勞基法設定檔 |

### 3.6 月結算與假別生成模組

| 標準欄位名 | 中文說明 | 引用說明 |
| --- | --- | --- |
| attendance_code | AB / LT / ET 或假別代碼 | 僅系統月結產生 AB／LT／ET |
| settlement_month | 結算月份 | monthly_settlement |
| settled_at / closed_at | 結算完成時間 | 封存時點 |
| archived | 是否封存 | 供薪資讀取後不變更 |

### 3.7 通知與查詢、出差回報

| 標準欄位名 | 中文說明 | 引用說明 |
| --- | --- | --- |
| trip_report_date | 出差回報日期 | trip_report |
| trip_arrival_at, trip_departure_at | 到達、離開時間 | trip_report |
| trip_photo_arrival, trip_photo_departure | 到達／離開照片 URL 或 ID | trip_report |
| notification_sent_at | 異常通知發送時間 | 避免重複發送 |

---

## 四、狀態與代碼彙總（快速對照）

| 類別 | 中文 | 英文／代碼 | 備註 |
| --- | --- | --- | --- |
| 員工狀態 | 在職 | Active | 參與出勤判斷 |
| 員工狀態 | 離職 | Inactive / resigned | 不參與出勤、不產生異常 |
| 點名標記 | 到班 | present | 點名有到 |
| 點名標記 | 請假 | on_leave | 點名請假 |
| 點名標記 | 未到 | absent | 點名未到 |
| 假別（系統產） | 曠職 | AB | 僅系統月結 |
| 假別（系統產） | 遲到 | LT | 僅系統月結 |
| 假別（系統產） | 早退 | ET | 僅系統月結 |
| 資料層 | 事實層 | raw / fact | 刷卡 Log，不可變 |
| 資料層 | 判斷層 | computed / judgment | 可重算 |
| 資料層 | 人工介入層 | manual / intervention | 請假、加班單、點名、出差回報 |
| 方向 | 進 | in | 上班 |
| 方向 | 出 | out | 下班 |

---

## 四之一、客戶確認之參數與規則（引用）

以下為客戶確認後之參數與規則，詳細見 **出缺勤系統_客戶確認用_規劃摘要 §3、§7**；PRD／規格引用時以該文件為準。

| 項目 | 已確認值／規則 |
| --- | --- |
| 補單期限 | 每月 **3 號前**要完成**前一月**的補單（補單截止日為每月 3 日） |
| 異常通知時點 | **每天早上 6:00** 通知，前一日是否有需要確認的資料 |
| 點名與刷卡 | **以刷卡為主**；刷卡異常可填寫加班單或請假單修正。**點名**為跨部門支援時確認**接收人力工時**（歸屬與統計）之輔助 |
| 支援人力加班歸屬 | 依照**點名**確認支援人力該員工的**歸屬** |
| 不可加班人員緊急工作補償 | 由當事人填寫加班申請單核可後補入，或用月工作獎金發放 |
| 月結後追溯 | **月結後不回頭修改**；計算錯誤以**下個月補發或扣回**方式沖回 |
| **權限矩陣** | 點名、月結、看稽核紀錄：各部門**主管或助理**；維護勞基法參數：**HR 與平台管理者**；查詢全員出勤：**HR 與管理主管** |
| **補單與月結時序** | **3 日截止**（補單）→ **4 日檢核補缺** → **5 日執行結算** |
| **錯誤更正流程** | 透過**簽呈與金額調整發放**處理，**不回寫出缺勤紀錄資料** |

---

## 五、檢核與維護建議

### 5.1 檢核清單（新增／修改表單或 API 時）

- [ ] **命名**：欄位是否依本清單「標準欄位名」命名？新增時是否補進本清單？
- [ ] **事實層**：刷卡 Log 是否禁止修改、刪除與回寫？
- [ ] **判斷層**：人工介入（點名、出差回報、請假、加班單）是否僅影響判斷層、不覆寫 Log？
- [ ] **假別**：AB／LT／ET 是否僅由系統於月結產生？
- [ ] **離職**：離職日起是否停止出勤比對、不產生異常與補單？
- [ ] **加班**：法定內加班是否完整進入薪資用欄位？超限是否轉點數／獎金、不刪減？

### 5.2 對齊建議

1. **API 與 DB**：REST 請求／回應欄位名稱建議與「三、欄位引用標準」一致。
2. **UI 與 API**：表單送出之欄位 key 與 API 約定一致；顯示用中文依「二、名詞對照」。
3. **模組邊界**：事實層僅由刷卡／辨識模組寫入；判斷層由出勤判斷引擎寫入，點名／出差補登僅更新判斷層欄位。

### 5.3 版本與維護

- 本清單隨 B1／C1 或 PRD、規格重大變更時更新。
- 新增資料表、API 端點或業務名詞時，請同步更新本清單對應章節。

---

## 六、文件對照索引

| 文件 | 內容概要 |
| --- | --- |
| 立國hr出缺勤系統_業務需求與導入規劃說明.md（B1） | 制度、三層模型、SOP、勞基法稽核、Gap |
| 立國hr出缺勤系統_c_1_需求展開拆解.md（C1） | 七大模組、功能／規則／非功能、TBD 結案 |
| 出缺勤系統_情境彙整.md | 情境 SC-01～SC-11、角色責任 |
| 出缺勤系統_流程圖.md | 日常、異常、點名、月結、出差、As-Is／To-Be |
| 出缺勤系統_需求展開_對照.md | 需求項目與模組／決策對照、客戶確認結論 §4 |
| 出缺勤系統_客戶確認用_規劃摘要.md | 客戶確認結論 §3、§7（參數與規則彙總） |
