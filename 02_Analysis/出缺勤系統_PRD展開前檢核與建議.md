# 出缺勤系統｜PRD 展開前檢核與建議

- **日期：** 2026-02-02
- **更新：** 客戶確認結論已寫入（補單期限、異常時點、點名與刷卡、不可加班補償、支援人力歸屬、月結後追溯），見「二、缺口」與「三、客戶確認結論」。
- **目的：** 檢視目前出缺勤分析產物與 B1／C1，評估撰寫 PRD 前**是否缺資料、待確認項目與撰寫建議**。
- **結論摘要：** 制度與模組骨架已足，可開始 PRD；**補單、異常時點、點名與刷卡、不可加班補償、支援人力歸屬、月結後追溯**已由客戶確認並寫入 客戶確認用_規劃摘要 §3、§7。

---

## 一、目前已有、可支撐 PRD 的資料

| 類別 | 內容 | 所在文件 |
| --- | --- | --- |
| 產品目標與成功指標 | 可稽核可追溯可重算、制度前移、三層模型、法規稽核、成功標準 | B1 §2、§10；需求整理_總覽 |
| 範圍邊界 | 本階段包含／不包含（不含薪資計算） | B1 §3；客戶確認用_規劃摘要 §1 |
| 七大模組 | 功能／規則／非功能需求拆解 | C1 §2～§9 |
| 情境清單 | SC-01～SC-11、角色責任 | 情境彙整 |
| 流程 | 日常、異常、點名、月結、出差、As-Is／To-Be | 流程圖 |
| 名詞與欄位 | 實體、狀態、假別代碼、標準欄位名 | 名詞與欄位對照清單 |
| 制度決策（已結案） | 夜班／留宿、管理職／不計加班、超限轉點數／獎金、離職停止比對 | C1 §10；需求展開_對照 |
| 驗收要項（摘要） | 事實層不覆寫、AB/LT/ET 僅系統產生、加班不刪減、月結封存等 | 需求展開_對照 §3 |

**結論：** 上述已足夠撰寫 PRD 的**目標、角色、核心流程、功能模組、行為規則與驗收重點**；可依 MCR 第二階段 PRD 結構對齊（目標、角色、資料與狀態、流程、功能與畫面、NFR、已確認決策、驗收）。

---

## 二、缺口與待補資料（建議補齊或於 PRD 標註）

### 2.1 數值與時程（已確認／待規格）

| 項目 | 說明 | 狀態／建議 |
| --- | --- | --- |
| 補單期限 | 月結前幾日關閉補單 | **已確認：** 每月 **3 號前**要完成**前一月**的補單。PRD 可寫「補單截止日為每月 3 日（前一月補單須於當月 3 日前完成）」 |
| 異常通知時點 | 每日何時檢查前一日、何時發送通知 | **已確認：** **每天早上 6:00** 通知，前一日是否有需要確認的資料。PRD 可寫「每日 06:00 執行前一日出勤檢查並發送異常通知」 |
| 刷卡去重間隔 | 「短時間」重複讀取之具體秒數／分鐘數 | 待規格：PRD 或規格需定義（如 60 秒內同人同設備僅保留一筆），否則工程需假設 |
| 勞基法設定檔 | 每日／每月加班上限、級距、維護者 | B1 已述「由 HR 維護、以公司最新設定為準」；PRD 建議列「勞基法參數檔」為依賴主檔並列建議欄位（daily_cap, monthly_cap 等） |

### 2.2 介面與整合（B1／C1 未展開）

| 項目 | 說明 | 建議 |
| --- | --- | --- |
| 刷卡資料來源 | 人臉／指紋設備以何種方式進入系統（API、檔案上傳、手動匯入） | PRD 應有一小節「刷卡資料取得方式」：介面形式、頻率、負責單位，若未定可標「待規格」 |
| 薪資系統介面 | 月結封存後如何提供給薪資系統（檔案、API、共用 DB） | PRD 應有一句「出缺勤結果提供方式（待與薪資系統對接規格）」 |
| 點名系統 | 點名為本系統內功能或外部系統；若外部，介面為何 | 目前 B1／C1 以「點名作業／點名模式」描述；PRD 需明確「點名」為本系統畫面或外部系統，若外部需介面規格 |

### 2.3 主檔與依賴資料責任

| 項目 | 說明 | 建議 |
| --- | --- | --- |
| 班別主檔 | 班別由誰維護、欄位為何、是否與現有 HR 系統共用 | PRD 建議列「班別主檔」為依賴，並引用名詞對照清單之 shift 欄位；若由他系統維護需註明介面 |
| 公司行事曆 | 工作日／例假日／國定假日由誰維護、更新頻率 | 同上，列為依賴並註明維護責任 |
| 請假類型／假別主檔 | 請假單之假別（病假、事假、特休等）是否由本系統維護；與月結假別（AB/LT/ET）關係 | B1／C1 有「請假」但未展開假別主檔；PRD 建議區分「請假申請用假別」與「月結產出假別（AB/LT/ET）」，並註明假別主檔來源 |

### 2.4 衝突與邊界情境（已確認）

| 項目 | 說明 | 狀態／建議 |
| --- | --- | --- |
| 點名與刷卡關係 | 採信原則與點名用途 | **已確認：** **以刷卡為主**；刷卡有異常可填寫**加班單**或**請假單**修正。**點名**為參考與統計**跨部門支援**時確認**接收人力工時**概念（支援人力歸屬與工時統計）。PRD 可寫「出勤判斷以刷卡為準；點名作為跨部門支援人力歸屬與工時統計之輔助」 |
| 月結後是否允許追溯修正 | 責任歸屬與錯誤更正 | **已確認：** **月結後不回頭修改**；若為計算錯誤，以**下個月補發或扣回**方式沖回。PRD 可寫「月結封存後不允許追溯修正；計算錯誤以次月補發／扣回處理」 |

---

## 三、客戶確認結論（已寫入，供 PRD 直接引用）

以下已由客戶確認，並寫入 **出缺勤系統_客戶確認用_規劃摘要 §3、§7**。PRD 撰寫時可直接引用下列結論，無須再標「待客戶確認」：

| 序 | 項目 | 客戶確認結論（PRD 寫法建議） |
| --- | --- | --- |
| 1 | 補單期限 | **每月 3 號前**要完成**前一月**的補單。補單截止日為每月 3 日（前一月補單須於當月 3 日前完成） |
| 2 | 異常通知時點 | **每天早上 6:00** 通知，前一日是否有需要確認的資料。每日 06:00 執行前一日出勤檢查並發送異常通知 |
| 3 | 點名與刷卡 | **以刷卡為主**；刷卡有異常可填寫**加班單**或**請假單**修正。**點名**為跨部門支援時確認**接收人力工時**（歸屬與統計）之輔助 |
| 4 | 不可加班人員緊急工作補償 | 由**當事人填寫加班申請單**核可後補入，或改以**月工作獎金**發放。本系統支援加班申請單核可後補入 |
| 5 | 支援人力加班歸屬 | 依照**點名**確認支援人力該員工的**歸屬**。加班歸屬部門依點名確認之支援人力歸屬 |
| 6 | 月結後追溯 | **月結後不回頭修改**；計算錯誤以**下個月補發或扣回**方式沖回。月結封存後不允許追溯修正 |
| 7 | 權限矩陣 | **點名、月結、看稽核紀錄：** 各部門主管或助理。**維護勞基法參數：** HR 與平台管理者。**查詢全員出勤：** HR 與管理主管 |
| 8 | 補單與月結時序 | **3 日截止**（補單）→ **4 日檢核補缺** → **5 日執行結算** |
| 9 | 錯誤更正流程 | 透過**簽呈與金額調整發放**處理，**不回寫出缺勤紀錄資料** |

---

## 四、PRD 撰寫建議（結構與章節）

### 4.1 建議章節結構（對齊 MCR PRD 與 C1 模組）

1. **產品目標與成功指標** — 已有，可直接濃縮 B1／需求整理_總覽
2. **使用者角色與權限摘要** — 已有角色（員工、HR、現場、業務）；建議補「權限矩陣」（誰可點名、誰可月結、誰可看稽核紀錄）
3. **核心資料與狀態模型** — 三層模型＋假別代碼（AB/LT/ET）＋名詞對照清單之狀態；可引用名詞與欄位對照清單
4. **核心流程（To-Be）** — 引用流程圖之 Mermaid；可補「補單截止與月結」時序
5. **功能模組與畫面／介面需求** — 依七大模組分節，每模組：目的、行為規則、畫面／API 範圍、與他模組介面
6. **非功能需求（NFR）** — 可重算、可追溯、事實層不變、大量資料／批次、稽核紀錄保留、勞檢可查
7. **已確認決策** — 需求展開_對照 §1 表格＋C1 §10 結案項＋**客戶確認用_規劃摘要 §7（客戶確認結論彙總）**
8. **驗收重點** — 需求展開_對照 §3＋各模組關鍵驗收（含「點名不覆蓋 Log」「AB/LT/ET 僅系統產生」等）
9. **參考文件** — B1、C1、情境彙整、流程圖、名詞與欄位對照清單、需求展開_對照

### 4.2 模組與畫面對應建議（供 PRD §5 對齊）

| 模組 | 建議 PRD 功能／畫面標題 | 備註 |
| --- | --- | --- |
| 員工與身分治理 | 員工主檔維護、辨識 ID 綁定、到職／離職登錄 | 權限：HR |
| 刷卡／辨識整合 | 刷卡 Log 匯入／介面、去重規則、設備與據點設定 | 介面形式待規格 |
| 點名與人工介入 | 點名作業（到班／請假／未到）、批次補入、核准人與來源 | 權限：HR／現場 |
| 出勤判斷引擎 | 出勤結果查詢、重算觸發、異常標記 | 多為後台／排程，可搭配「出勤結果查詢」畫面 |
| 加班與法規稽核 | 加班計算與稽核結果、勞基法參數、超限轉點數／獎金 | 稽核紀錄查詢、參數維護（HR） |
| 月結算與假別 | 月結作業（關閉補單→執行月結→封存）、假別產出、薪資介面 | 權限：HR；介面待規格 |
| 通知與查詢 | 員工自助查詢出勤、異常通知、出差回報（到達／離開） | 員工／業務角色 |

### 4.3 撰寫順序建議

1. 先定 PRD 結構（§1～§9），再填目標、角色、流程、已確認決策與驗收（多數可直接從現有文件剪貼與改寫）。
2. 依 C1 建議優先順序撰寫功能模組：**出勤判斷引擎 → 點名與留宿／加班單流程 → 法規稽核與例外身分**；其餘模組並行或接續。
3. 在「介面與整合」小節集中列出：刷卡資料來源、點名來源、薪資系統介面、班別／行事曆／假別主檔，並對未定項標「待規格」或「待客戶確認」。
4. 將「二、缺口」與「三、待確認」之項目在 PRD 中對應到具體章節或「已確認決策／待確認」表，以便後續規格與開發對齊。

---

## 五、總結：可否開始寫 PRD？

| 評估 | 說明 |
| --- | --- |
| **可開始撰寫 PRD** | 目標、範圍、模組、情境、流程、名詞、驗收要項與已結案制度均已有，可支撐 PRD 主體。 |
| **已確認並寫入** | 補單期限（每月 3 號前完成前一月補單）、異常通知時點（每日 06:00）、點名與刷卡（刷卡為主，點名為支援人力歸屬統計）、不可加班補償（加班申請單核可或月工作獎金）、支援人力歸屬（依點名確認）、月結後不回溯（錯誤以次月補發／扣回）。見 客戶確認用_規劃摘要 §3、§7。 |
| **建議 PRD 內仍標註** | 去重間隔、勞基法參數檔、刷卡／薪資／點名介面、班別與行事曆主檔、請假假別主檔（若未定則標「待規格」）。 |
| **建議 PRD 寫法** | 已確認項直接寫入「已確認決策」與驗收；未定項明列「待規格」及對應章節。 |

**仍待確認／需補充項目**見 **出缺勤系統_仍待確認與需補充清單**（待客戶確認項、待規格項、建議 PRD 補齊項）。客戶已確認之補單、異常時點、點名與刷卡、月結後追溯等已寫入 客戶確認用_規劃摘要 §3、§7。
